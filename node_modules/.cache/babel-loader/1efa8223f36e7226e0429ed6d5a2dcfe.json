{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Eugene\\\\source\\\\repos\\\\CaseApp\\\\CaseApp\\\\client\\\\src\\\\components\\\\MainComponent.js\";\nimport React, { Component } from 'react';\nimport Main from './Main';\n\nclass MainComponent extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filters: [],\n      selectedFilter: \"\",\n      input: \"\",\n      response: \"\"\n    };\n    this.handleFilterChange = this.handleFilterChange.bind(this);\n    this.updateInputValue = this.updateInputValue.bind(this);\n    this.handleSubmitAction = this.handleSubmitAction.bind(this);\n  }\n\n  componentDidMount() {\n    fetch('https://localhost:44363/api/metrics').then(res => res.json()).then(state => {\n      this.setState({\n        filters: state\n      });\n      this.setState({\n        selectedFilter: this.state.filters[0].id\n      });\n    });\n  }\n\n  handleFilterChange(filter) {\n    this.setState({\n      selectedFilter: filter\n    });\n  }\n\n  handleSubmitAction() {\n    if (this.state.input === \"\") {\n      alert(\"Test field can't be empty!\");\n    }\n\n    fetch('https://localhost:44363/api/metrics?id=' + this.state.selectedFilter, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(this.state.input)\n    }).then(res => res.text()).then(data => this.setState({\n      response: data\n    }));\n  }\n\n  updateInputValue(text) {\n    this.setState({\n      input: text\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(Main, {\n      filters: this.state.filters,\n      onFilterChange: this.handleFilterChange,\n      onInputUpdate: this.updateInputValue,\n      onSubmit: this.handleSubmitAction,\n      response: this.state.response,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nexport default MainComponent;","map":{"version":3,"sources":["C:/Users/Eugene/source/repos/CaseApp/CaseApp/client/src/components/MainComponent.js"],"names":["React","Component","Main","MainComponent","constructor","props","state","filters","selectedFilter","input","response","handleFilterChange","bind","updateInputValue","handleSubmitAction","componentDidMount","fetch","then","res","json","setState","id","filter","alert","method","headers","body","JSON","stringify","text","data","render"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,IAAP,MAAiB,QAAjB;;AAEA,MAAMC,aAAN,SAA4BF,SAA5B,CAAqC;AACjCG,EAAAA,WAAW,CAACC,KAAD,EACX;AACI,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAG,EADD;AAETC,MAAAA,cAAc,EAAE,EAFP;AAGTC,MAAAA,KAAK,EAAE,EAHE;AAITC,MAAAA,QAAQ,EAAG;AAJF,KAAb;AAMA,SAAKC,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBC,IAAxB,CAA6B,IAA7B,CAA1B;AACA,SAAKC,gBAAL,GAAwB,KAAKA,gBAAL,CAAsBD,IAAtB,CAA2B,IAA3B,CAAxB;AACA,SAAKE,kBAAL,GAA0B,KAAKA,kBAAL,CAAwBF,IAAxB,CAA6B,IAA7B,CAA1B;AACH;;AACDG,EAAAA,iBAAiB,GACjB;AACIC,IAAAA,KAAK,CAAC,qCAAD,CAAL,CACCC,IADD,CACMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADb,EAECF,IAFD,CAEMX,KAAK,IAAG;AACV,WAAKc,QAAL,CAAc;AAACb,QAAAA,OAAO,EAAED;AAAV,OAAd;AACA,WAAKc,QAAL,CAAc;AAACZ,QAAAA,cAAc,EAAG,KAAKF,KAAL,CAAWC,OAAX,CAAmB,CAAnB,EAAsBc;AAAxC,OAAd;AACH,KALD;AAMH;;AAEDV,EAAAA,kBAAkB,CAACW,MAAD,EAClB;AACI,SAAKF,QAAL,CAAc;AAACZ,MAAAA,cAAc,EAAGc;AAAlB,KAAd;AACH;;AAEDR,EAAAA,kBAAkB,GAClB;AACI,QAAG,KAAKR,KAAL,CAAWG,KAAX,KAAqB,EAAxB,EACA;AACIc,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACH;;AACDP,IAAAA,KAAK,CAAC,4CAA0C,KAAKV,KAAL,CAAWE,cAAtD,EACL;AACIgB,MAAAA,MAAM,EAAC,MADX;AAEIC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFb;AAKIC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe,KAAKtB,KAAL,CAAWG,KAA1B;AALV,KADK,CAAL,CAQCQ,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACW,IAAJ,EARb,EASCZ,IATD,CASMa,IAAI,IAAI,KAAKV,QAAL,CAAc;AAACV,MAAAA,QAAQ,EAAEoB;AAAX,KAAd,CATd;AAUH;;AAGDjB,EAAAA,gBAAgB,CAACgB,IAAD,EAChB;AACI,SAAKT,QAAL,CAAc;AAACX,MAAAA,KAAK,EAAEoB;AAAR,KAAd;AACH;;AAEDE,EAAAA,MAAM,GAAE;AACJ,wBAAO,oBAAC,IAAD;AAAM,MAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWC,OAA1B;AAAmC,MAAA,cAAc,EAAE,KAAKI,kBAAxD;AAA4E,MAAA,aAAa,EAAE,KAAKE,gBAAhG;AAAkH,MAAA,QAAQ,EAAE,KAAKC,kBAAjI;AAAqJ,MAAA,QAAQ,EAAI,KAAKR,KAAL,CAAWI,QAA5K;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAvDgC;;AA0DrC,eAAeP,aAAf","sourcesContent":["import React, {Component} from 'react';\r\nimport Main from './Main'\r\n\r\nclass MainComponent extends Component{\r\n    constructor(props)\r\n    {\r\n        super(props);\r\n        this.state = {\r\n            filters : [],\r\n            selectedFilter: \"\",\r\n            input: \"\",\r\n            response : \"\"\r\n        }\r\n        this.handleFilterChange = this.handleFilterChange.bind(this);\r\n        this.updateInputValue = this.updateInputValue.bind(this);\r\n        this.handleSubmitAction = this.handleSubmitAction.bind(this);\r\n    }\r\n    componentDidMount()\r\n    {\r\n        fetch('https://localhost:44363/api/metrics')\r\n        .then(res => res.json())\r\n        .then(state =>{\r\n            this.setState({filters: state});\r\n            this.setState({selectedFilter : this.state.filters[0].id})\r\n        } )\r\n    }\r\n\r\n    handleFilterChange(filter)\r\n    {\r\n        this.setState({selectedFilter : filter});\r\n    }\r\n\r\n    handleSubmitAction()\r\n    {\r\n        if(this.state.input === \"\")\r\n        {\r\n            alert(\"Test field can't be empty!\")\r\n        }\r\n        fetch('https://localhost:44363/api/metrics?id='+this.state.selectedFilter,\r\n        {   \r\n            method:'POST',\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n              },\r\n            body: JSON.stringify(this.state.input)\r\n        }) \r\n        .then(res => res.text())\r\n        .then(data => this.setState({response: data}));\r\n    }\r\n    \r\n\r\n    updateInputValue(text)\r\n    {\r\n        this.setState({input: text});\r\n    }\r\n\r\n    render(){\r\n        return(<Main filters={this.state.filters} onFilterChange={this.handleFilterChange} onInputUpdate={this.updateInputValue} onSubmit={this.handleSubmitAction} response = {this.state.response}/>);\r\n    }\r\n}\r\n\r\nexport default MainComponent;"]},"metadata":{},"sourceType":"module"}